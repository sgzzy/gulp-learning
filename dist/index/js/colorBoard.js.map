{"version":3,"sources":["webpack:///webpack/bootstrap 291eaecd2e4cfaba7116","webpack:///./dist/js/views/colorBoard.js","webpack:///./dist/js/utils/colorBoard.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,oDAAmD;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;;AAEhD,qDAAoD;AACpD,gDAA+C;;AAE/C;AACA;AACA;AACA,YAAW,IAAI;AACf;AACA;AACA;AACA;AACA,qDAAoD;AACpD;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACnHA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,IAAI,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,MAAM;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B,wBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,IAAI;AACnB,gBAAe,IAAI;AACnB;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA,IAAG;AACH;AACA;AACA;AACA,8BAA6B,EAAE,UAAU,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA,0BAAyB,OAAO;AAChC;AACA;AACA,UAAS;AACT,uCAAsC,EAAE;AACxC;AACA,yBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED,8B","file":"colorBoard.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 291eaecd2e4cfaba7116","'use strict';\n\nvar _colorBoard = require('../utils/colorBoard.js');\n\nvar _colorBoard2 = _interopRequireDefault(_colorBoard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar lightBar = document.getElementById('lightBar'); /**\n                                                     * Created by Administrator on 2016/12/8.\n                                                     */\n\nvar lCtx = lightBar.getContext('2d');\nvar rgbColor = document.getElementsByTagName('input');\nvar hexColor = rgbColor[3];\nvar colorBoard = document.getElementById('colorBoard').getElementsByTagName('img')[0];\nvar colorChoose = document.getElementsByClassName('color-choose')[0];\nvar colorBox = document.getElementsByClassName('colorBox')[0];\nvar rgb = void 0,\n    hex = void 0;\n// 明亮条对象\nvar light = {\n  ctx: lCtx,\n  width: lightBar.width,\n  height: lightBar.height\n};\nvar lightDraw = new _colorBoard2.default(light); // 初始化明亮条画板\n\ncolorBoard.addEventListener('mousedown', mousedown); // 选取颜色\nlightBar.addEventListener('click', lightClick); // 选择明亮程度\n\n/**\n *\n *\n * @param {any} event\n */\nfunction mousedown(event) {\n  event = event || window.event;\n  canClick(event);\n  document.addEventListener('mousemove', mousemove); // 光标移动时颜色同步改变\n  document.addEventListener('mouseup', function (e) {\n    e = e || window.event;\n    document.addEventListener('mousemove', mousemove);\n  });\n}\n\nfunction mousemove(event) {\n  event = event || window.event;\n  var target = event.srcElement ? event.srcElement : event.target;\n  if (target != colorBoard) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  canClick(event);\n}\nfunction canClick(event) {\n  var x = event.offsetX;\n  var y = event.offsetY;\n  x -= colorBoard.width / 2;\n  y = colorBoard.width / 2 - y;\n  var radius = Math.sqrt(x * x + y * y);\n  if (radius > colorBoard.width / 2) {\n    x = x * (colorBoard.width / 2 / radius);\n    x = x > 0 ? Math.floor(x) : Math.ceil(x);\n    y = y * (colorBoard.width / 2 / radius);\n    y = y > 0 ? Math.floor(y) : Math.ceil(y);\n    $(colorBox).css('left', x + colorBoard.width / 2 + 'px');\n    $(colorBox).css('top', colorBoard.width / 2 - y + 'px');\n    choose(x, y);\n  } else {\n    $(colorBox).css('left', event.offsetX + 'px');\n    $(colorBox).css('top', event.offsetY + 'px');\n    choose(x, y);\n  }\n}\n\nfunction lightClick(event) {\n  event = event || window.event;\n  var r = Number(rgbColor[0].value);\n  var g = Number(rgbColor[1].value);\n  var b = Number(rgbColor[2].value);\n  var hsv = lightDraw.rgbToHsv(r, g, b);\n  var y = event.offsetY;\n  hsv.v = parseFloat(360 - y) / 360;\n  var pixel = lightDraw.hsvToRgb(hsv.h, hsv.s, hsv.v);\n  rgb = 'RGB(' + Math.floor(pixel.r) + ',' + Math.floor(pixel.g) + ',' + Math.floor(pixel.b) + ')';\n  hex = lightDraw.colorHex(rgb);\n  rgbColor[0].value = Math.floor(pixel.r).toString();\n  rgbColor[1].value = Math.floor(pixel.g).toString();\n  rgbColor[2].value = Math.floor(pixel.b).toString();\n  hexColor.value = hex.replace('#', '');\n  colorChoose.style.background = hex;\n}\n\nfunction choose(x, y) {\n  var hs = toHSV(x, y);\n  var pixel = lightDraw.hsvToRgb(hs.h, hs.s, 1);\n  rgb = 'RGB(' + Math.floor(pixel.r) + ',' + Math.floor(pixel.g) + ',' + Math.floor(pixel.b) + ')';\n  hex = lightDraw.colorHex(rgb);\n  rgbColor[0].value = Math.floor(pixel.r).toString();\n  rgbColor[1].value = Math.floor(pixel.g).toString();\n  rgbColor[2].value = Math.floor(pixel.b).toString();\n  hexColor.value = hex.replace('#', '');\n  colorChoose.style.background = hex;\n  lightDraw.drawLight(hs.h, hs.s);\n}\n\nfunction toHSV(x, y) {\n  var h = Math.floor(Math.asin(y / Math.sqrt(x * x + y * y)) * 180 / Math.PI);\n  var s = Math.sqrt(x * x + y * y) * 2 / colorBoard.width;\n  return {\n    h: h,\n    s: s\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/js/views/colorBoard.js\n// module id = 0\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Created by Administrator on 2016/12/8.\n */\n\n// 创建画板类\nvar ColorBoard = function () {\n  /**\n   * Creates an instance of ColorBoard.\n   * @param {any} {ctx, width, height}\n   *\n   * @memberOf ColorBoard\n   */\n  function ColorBoard(_ref) {\n    var ctx = _ref.ctx,\n        width = _ref.width,\n        height = _ref.height;\n\n    _classCallCheck(this, ColorBoard);\n\n    this.ctx = ctx;\n    this.width = width;\n    this.height = height;\n    this.imageData = this.ctx.createImageData(this.width, this.height);\n  }\n\n  /**\n   * setDate\n   * @param imageData\n   * @param {Number} x\n   * @param {Number} y\n   * @param {Array} value\n   */\n\n\n  _createClass(ColorBoard, [{\n    key: 'setData',\n    value: function setData(imageData, x, y, value) {\n      imageData.data[y * (imageData.width * 4) + x * 4 + 0] = value[0];\n      imageData.data[y * (imageData.width * 4) + x * 4 + 1] = value[1];\n      imageData.data[y * (imageData.width * 4) + x * 4 + 2] = value[2];\n      imageData.data[y * (imageData.width * 4) + x * 4 + 3] = value[3];\n    }\n\n    /**\n     *\n     * @param imageDate\n     */\n\n  }, {\n    key: 'drawImageconst',\n    value: function drawImageconst() {\n      var context = this;\n      var radius = context.width / 200;\n      var angle = -Math.PI / 180;\n      for (var i = 100; i >= 0; i--) {\n        for (var j = 0; j < 360; j++) {\n          var pixel = context.hsvToRgb(j, i / 100, 1);\n          var rgb = 'RGB(' + Math.floor(pixel.r) + ',' + Math.floor(pixel.g) + ',' + Math.floor(pixel.b) + ')';\n          if (i == 0) {\n            context.drawColor(1, j * angle, rgb);\n          } else {\n            context.drawColor(i * radius, j * angle, rgb);\n          }\n        }\n      }\n    }\n\n    /**\n     *\n     * @param r\n     * @param startAngle\n     * @param rgb\n     */\n\n  }, {\n    key: 'drawColorconst',\n    value: function drawColorconst(r, startAngle, rgb) {\n      var context = this;\n      var ctx = context.ctx;\n      var radius = context.width / 2;\n      ctx.beginPath();\n      ctx.moveTo(radius, radius);\n      ctx.fillStyle = rgb;\n      ctx.arc(radius, radius, r, startAngle, startAngle - Math.PI / 180, true);\n      ctx.fill();\n      ctx.closePath();\n    }\n\n    /**\n     *\n     *\n     * @param {any} h\n     * @param {any} s\n     */\n\n  }, {\n    key: 'drawLightconst',\n    value: function drawLightconst(h, s) {\n      var context = this;\n      var imageData = context.imageData;\n      for (var i = 0; i < 360; i++) {\n        for (var j = 0; j < 40; j++) {\n          var pixel = context.hsvToRgb(h, s, (360 - i) / 360);\n          context.setData(imageData, j, i, [Math.ceil(pixel.r), Math.ceil(pixel.g), Math.ceil(pixel.b), 255]);\n        }\n      }\n      context.ctx.putImageData(imageData, 0, 0);\n    }\n\n    /**\n     * HSVToRGB\n     * @param h\n     * @param s\n     * @param v\n     * @returns {*}\n     */\n\n  }, {\n    key: 'hsvToRgbconst',\n    value: function hsvToRgbconst(h, s, v) {\n      var r = void 0,\n          g = void 0,\n          b = void 0;\n      if (s == 0) {\n        v = Math.floor(v * 255);\n        return {\n          r: v,\n          g: v,\n          b: v\n        };\n      }\n      h /= 60;\n      var i = Math.floor(h);\n      var f = h - i;\n      var p = v * (1 - s);\n      var q = v * (1 - s * f);\n      var t = v * (1 - s * (1 - f));\n      switch (i) {\n        case 0:\n          r = v;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = v;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = v;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = v;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = v;\n          break;\n        default:\n          r = v;\n          g = p;\n          b = q;\n          break;\n      }\n      return {\n        r: r * 255,\n        g: g * 255,\n        b: b * 255\n      };\n    }\n\n    /**\n     * colorHex\n     * @param rgb\n     * @returns {string}\n     */\n\n  }, {\n    key: 'colorHexconst',\n    value: function colorHexconst(rgb) {\n      var that = rgb;\n      var regR = /^(rgb|RGB)/;\n      var regI = /(?:\\(|\\)|rgb|RGB)*/g;\n      var hex = '#',\n          strHex = void 0;\n      if (regR.test(that)) {\n        var rgbN = that.replace(regI, '').split(',');\n        for (var i = 0; i < rgbN.length; i++) {\n          var num = Number(rgbN[i]);\n          if (num < 0 || num > 255) {\n            throw new RangeError('The RGB number is out of range.');\n          } else {\n            strHex = num.toString(16);\n            strHex = Number(num) < 16 ? '0' + strHex : strHex;\n          }\n          hex += strHex;\n        }\n        if (hex.length != 7) {\n          throw new RangeError('The RGB numbers is not three.');\n        } else {\n          return hex;\n        }\n      }\n    }\n\n    /**\n     * colorRgb\n     * @param hex\n     * @returns {string}\n     */\n\n  }, {\n    key: 'colorRgbconst',\n    value: function colorRgbconst(hex) {\n      var that = hex.toLowerCase();\n      var reg = /^#([0-9a-f]{3}|[0-9a-f]{6})$/;\n      var rgb = 'RGB(';\n      if (that && reg.test(that)) {\n        var hexN = that.replace('#', '');\n        if (hexN.length == 3) {\n          hexN = hexN.split('');\n          for (var i = 0; i < 3; i++) {\n            hexN[i] += hexN[i];\n          }\n        } else if (hexN.length == 6) {\n          hexN = hexN.match(/[0-9a-f]{2}/g);\n        }\n        for (var _i = 0; _i < 3; _i++) {\n          hexN[_i] = parseInt('0x' + hexN[_i], 10);\n        }\n        rgb += hexN[0] + ', ' + hexN[1] + ', ' + hexN[2] + ')';\n        return rgb;\n      } else {\n        throw new Error('The colorHex\\'s  format is warn.');\n      }\n    }\n\n    /**\n     *\n     * @param r\n     * @param g\n     * @param b\n     * @returns {{h: *, s: *, v: (number|*)}}\n     */\n\n  }, {\n    key: 'rgbToHsvconst',\n    value: function rgbToHsvconst(r, g, b) {\n      r = parseFloat(r + 1) / 256;\n      g = parseFloat(g + 1) / 256;\n      b = parseFloat(b + 1) / 256;\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h = void 0,\n          s = void 0,\n          v = void 0;\n      v = max;\n      switch (max) {\n        case min:\n          h = 0;\n          break;\n        case r:\n          h = g < b ? 60 * ((g - b) / (max - min)) + 360 : 60 * ((g - b) / (max - min));\n          break;\n        case g:\n          h = 60 * (b - r) / (max - min) + 120;\n          break;\n        case b:\n          h = 60 * (r - g) / (max - min) + 240;\n          break;\n      }\n      if (max == 0) {\n        s = 0;\n      } else {\n        s = 1 - min / max;\n      }\n      return {\n        h: h,\n        s: s,\n        v: v\n      };\n    }\n  }]);\n\n  return ColorBoard;\n}();\n\nexports.default = ColorBoard;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/js/utils/colorBoard.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}